(function(t){function e(e){for(var o,a,i=e[0],u=e[1],c=e[2],l=0,d=[];l<i.length;l++)a=i[l],r[a]&&d.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(s.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},a={app:0},r={app:0},s=[];function i(t){return u.p+"js/"+({about:"about",login:"login",postDetails:"postDetails",upload:"upload"}[t]||t)+"."+{about:"e96dbb28",login:"e25f840e",postDetails:"1113a64b",upload:"1a6070cc"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={about:1,postDetails:1,upload:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="css/"+({about:"about",login:"login",postDetails:"postDetails",upload:"upload"}[t]||t)+"."+{about:"1f67add9",login:"31d6cfe0",postDetails:"f59e074c",upload:"56a8c305"}[t]+".css",r=u.p+o,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===o||l===r))return e()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===o||l===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||r,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.request=o,delete a[t],p.parentNode.removeChild(p),n(s)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)}).then(function(){a[t]=0}));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise(function(e,n){o=r[t]=[e,n]});e.push(o[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t),c=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");s.type=o,s.request=a,n[1](s)}r[t]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0555":function(t,e,n){},"0817":function(t,e,n){"use strict";var o=n("a754"),a=n.n(o);a.a},"11bf":function(t,e,n){},1510:function(t,e,n){"use strict";var o=n("d48a"),a=n.n(o);a.a},"50e0":function(t,e,n){"use strict";var o=n("deb6"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"animate-route",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("router-view",{key:t.$route.fullPath})],1),n("Navigation")],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{attrs:{value:!0,dark:"",fixed:"",color:"#2c3e50"}},[n("v-btn",{attrs:{to:"/",color:"teal",flat:"",value:"home"}},[n("span",[t._v("Home")]),n("v-icon",{attrs:{medium:""}},[t._v("home")])],1),n("v-btn",{attrs:{to:"/about",color:"teal",flat:"",value:"about"}},[n("span",[t._v("About")]),n("v-icon",{attrs:{medium:""}},[t._v("account_box")])],1),t.$store.state.loggedIn?n("v-btn",{attrs:{to:"/upload",color:"teal",flat:"",value:"newPost"}},[n("span",[t._v("New post")]),n("v-icon",{attrs:{medium:""}},[t._v("note_add")])],1):t._e()],1)},i=[],u={name:"Navigation"},c=u,l=(n("50e0"),n("0c7c")),d=Object(l["a"])(c,s,i,!1,null,"ecbf94f6",null),p=d.exports,f={components:{Navigation:p},created:function(){this.$store.dispatch("getPosts")}},h=f,m=(n("f22e"),Object(l["a"])(h,a,r,!1,null,null,null)),v=m.exports,g=n("8c4f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-container",[n("v-layout",[n("v-flex",{staticClass:"ml-auto mr-auto",attrs:{xs12:"",sm6:"",md6:""}},[n("HomeHeader",{on:{searchInput:function(e){t.searchInput=e}}}),n("transition-group",{attrs:{name:"animate-route",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[0===t.posts.length?n("h3",{key:"no-posts"},[t._v("No posts found")]):t._l(t.posts,function(t,e){return n("Post",{key:e,attrs:{post:t}})})],2),n("v-btn",{attrs:{id:"upArrow",dark:"",fab:"",color:"teal",medium:""},on:{click:function(e){return t.$vuetify.goTo(0)}}},[n("v-icon",{attrs:{dark:"",large:""}},[t._v("keyboard_arrow_up")])],1)],1)],1)],1)],1)},y=[],_=(n("4917"),n("3b2b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"post"},on:{click:t.seePostDetails}},[n("div",{attrs:{id:"post-text"}},[n("h2",[t._v(t._s(t.post.title))]),n("p",[t._v(t._s(t.post.body))])]),n("figure",[n("img",{attrs:{src:t.post.image,alt:"poster"}})])])}),w=[],P={name:"Post",props:["post"],methods:{seePostDetails:function(){this.$router.push({name:"postDetails",params:{post:this.post}})}}},x=P,O=(n("0817"),Object(l["a"])(x,_,w,!1,null,"70b515a0",null)),j=O.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home-header"}},[n("div",[n("h1",[t._v("Logfolio")]),n("v-btn",{attrs:{dark:"",icon:"",absolute:""},on:{click:t.toggleMenu}},[n("v-icon",{attrs:{medium:""}},[t._v("more_vert")])],1),n("transition",{attrs:{name:"animate-route",mode:"out-in","enter-active-class":"animated pulse","leave-active-class":"animated pulse"}},[n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],attrs:{width:"150"}},[t.$store.state.loggedIn?n("v-card-title",{on:{click:t.logOut}},[t._v("Log out")]):n("v-card-title",{on:{click:t.logIn}},[t._v("Log in")])],1)],1)],1),n("v-text-field",{attrs:{dark:"",label:"Search for post"},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1)},I=[],T={name:"HomeHeader",data:function(){return{searchInput:"",showMenu:!1}},methods:{toggleMenu:function(){this.showMenu=!this.showMenu},logIn:function(){this.showMenu=!1,this.$router.push({name:"login"})},logOut:function(){this.showMenu=!1,this.$store.commit("logOut",!1)}},watch:{searchInput:function(t){this.$emit("searchInput",t)}}},E=T,$=(n("1510"),Object(l["a"])(E,k,I,!1,null,"6730e869",null)),D=$.exports,M={name:"home",data:function(){return{searchInput:""}},computed:{posts:function(){var t=new RegExp(this.searchInput,"i");return this.$store.state.posts.filter(function(e){return e.title.match(t)})}},components:{Post:j,HomeHeader:D}},S=M,C=(n("ba47"),Object(l["a"])(S,b,y,!1,null,"564d31f0",null)),N=C.exports;o["default"].use(g["a"]);var H=new g["a"]({mode:"history",base:"",routes:[{path:"/",name:"home",component:N},{path:"/upload",name:"upload",props:!0,component:function(){return n.e("upload").then(n.bind(null,"2679"))}},{path:"/post-details",name:"postDetails",props:!0,component:function(){return n.e("postDetails").then(n.bind(null,"aa8d"))}},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",name:"login",component:function(){return n.e("login").then(n.bind(null,"a55b"))}}]}),A=n("5d73"),L=n.n(A),B=n("f499"),U=n.n(B),q=n("2f62");o["default"].use(q["a"]);var F=new q["a"].Store({state:{profilePicture:"",loggedIn:!1,posts:[]},mutations:{setProfilePicture:function(t,e){t.profilePicture=e},addPost:function(t,e){fetch("/api/posts",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:U()(e)}).then(function(t){return t.json()}).then(function(e){t.posts.push(e)}).catch(function(t){return console.log(t)})},updatePost:function(t,e){var n=!0,o=!1,a=void 0;try{for(var r,s=L()(t.posts);!(n=(r=s.next()).done);n=!0){var i=r.value;if(i.id===e.id){var u=t.posts.indexOf(i);t.posts[u]=e}}}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}fetch("/api/posts/"+e.id,{method:"PUT",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:U()(e)}).catch(function(t){return console.log(t)}),console.log("Updating post: ",e.id)},deletePost:function(t,e){var n=!0,o=!1,a=void 0;try{for(var r,s=L()(t.posts);!(n=(r=s.next()).done);n=!0){var i=r.value;if(i.id===e.id){var u=t.posts.indexOf(i);t.posts.splice(u,1)}}}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}fetch("/api/posts/"+e.id,{method:"DELETE",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:U()(e)}).catch(function(t){return console.log(t)}),console.log("Deleting post: ",e.id)},logIn:function(t,e){t.loggedIn=e},logOut:function(t,e){t.loggedIn=e},getPosts:function(t,e){t.posts=e,console.log(t.posts)},getUser:function(t,e){console.log("Fetching user"),fetch("/api/users",{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:U()(e)}).then(function(t){return t.json()}).then(function(e){null!==e&&(t.loggedIn=!0)}).catch(function(t){return console.log(t)})}},actions:{getPosts:function(t){console.log("Fetching posts"),fetch("/api/posts").then(function(t){return t.json()}).then(function(e){t.commit("getPosts",e)}).catch(function(t){return console.log(t)})}}}),J=n("ce5b"),R=n.n(J);n("bf40");o["default"].use(R.a),o["default"].config.productionTip=!1,new o["default"]({router:H,store:F,render:function(t){return t(v)}}).$mount("#app")},a754:function(t,e,n){},ba47:function(t,e,n){"use strict";var o=n("0555"),a=n.n(o);a.a},d48a:function(t,e,n){},deb6:function(t,e,n){},f22e:function(t,e,n){"use strict";var o=n("11bf"),a=n.n(o);a.a}});
//# sourceMappingURL=app.3232a6b3.js.map